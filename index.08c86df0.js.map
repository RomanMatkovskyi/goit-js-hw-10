{"mappings":"AAAA,IAAIA,EACJ,MAAMC,EAAWC,SAASC,cAAc,iBAClCC,EAAUF,SAASC,cAAc,UACjCE,EAAUH,SAASC,cAAc,SAEjCG,EAASJ,SAASK,eAAe,OACjCC,EAAYN,SAASC,cAAc,cACnCM,EAAeP,SAASC,cAAc,gBAC5CM,EAAaC,UAAUC,IAAI,mBAC3B,MAAMC,EAAaV,SAASC,cAAc,aAEpCU,EAAeX,SAASC,cAAc,aAC5CC,EAAQU,MAAMC,QAAU,OACxBC,OAAOC,iBAAiB,QACxB,WACsC,OAAnCC,aAAaC,QAAQ,YACtBnB,EAASkB,aAAaC,QAAQ,UAC9BP,EAAWF,UAAUU,OAAO,mB,IAI9Bd,EAAOW,iBAAiB,UAExB,SAAmBI,GACjBA,EAAMC,iBACNtB,EAASQ,EAAUe,MACnBf,EAAUe,MAAQ,GACpBd,EAAaC,UAAUU,OAAO,mBAC5BI,MAAM,sDAAuD,CAC3DC,QAAS,CACP,YAAazB,KAEd0B,MAAKC,GAAYA,EAASC,SAC1BF,MAAMG,IACLpB,EAAaC,UAAUU,OAAO,mBACV,KAAhBS,EAAKC,QACPZ,aAAaa,QAAQ,SAAU/B,GAC/BY,EAAWF,UAAUU,OAAO,qBAE9BX,EAAaC,UAAUC,IAAI,mBACzBK,OAAOgB,MAAM,iC,IAGhBC,OAAMC,GAASlB,OAAOgB,MAAM,2B,IAmBjC/B,EAASgB,iBAAiB,UAC1B,WACE,IAAIkB,EAAgBlC,EAASsB,MAC7BlB,EAAQK,UAAUU,OAAO,UAIFgB,EAHPD,EAIhBtB,EAAawB,UAAY,GACzBb,MAAM,wDAAwDY,IAAW,CACvEX,QAAS,CACP,YAAazB,KAEd0B,MAAKG,GAAQA,EAAKD,SACpBF,MAAKY,IACJjC,EAAQK,UAAUU,OAAO,UACzB,IAAImB,EAAUD,EAAG,GACbE,EAAYD,EAAQE,OAAO,GAC3BC,EAAiB,mBACTH,EAAQI,6GAEKH,EAAUI,+CACJJ,EAAUK,qGACsCL,EAAUM,gCAEvFjC,EAAakC,mBAAmB,YAAaL,EAAe,IAlBlE,IAAyBN,C,IArBvBZ,MAAM,uCACHE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACgBA,EAAKmB,KAAI,EAACV,GAAEA,EAAEM,KAAEA,MAAY,C,GAAEN,E,KAAIM,MAC1CK,SAAQX,IAClB,MAAMY,EAAWhD,SAASiD,cAAc,UACxCD,EAAS3B,MAAQe,EAAGA,GACpBY,EAASE,YAAcd,EAAGM,KAC1B3C,EAASoD,YAAYH,EAAS,GAC9B,IAEHjB,OAAMC,GAAU9B,EAAQU,MAAMC,QAAU","sources":["src/cat-api.js"],"sourcesContent":["let apiKey;\nconst selectEl = document.querySelector('.breed-select');\nconst errorEl = document.querySelector('.error');\nconst ploadEl = document.querySelector('.load');\n\nconst formEl = document.getElementById('api');\nconst formInput = document.querySelector('.api-input');\nconst loaderFormEl = document.querySelector('.loader-form');\nloaderFormEl.classList.add('visually-hidden');\nconst backDropEl = document.querySelector('.backdrop');\n\nconst divCatInfoEl = document.querySelector('.cat-info');\nerrorEl.style.display = 'none';\nwindow.addEventListener('load', checkApiKey)\nfunction checkApiKey() {\nif(localStorage.getItem(\"apiKey\") !== null) {\n  apiKey = localStorage.getItem(\"apiKey\")\n  backDropEl.classList.toggle('visually-hidden')\n}\n}\n\nformEl.addEventListener('submit', getApiKey)\n\nfunction getApiKey(event) {\n  event.preventDefault()\n  apiKey = formInput.value;\n  formInput.value = '';\nloaderFormEl.classList.toggle('visually-hidden');\n  fetch(`https://api.thecatapi.com/v1/images/search?limit=15`, {\n    headers: {\n      'x-api-key': apiKey,\n    }})\n    .then(response => response.json())\n    .then (data => {\n      loaderFormEl.classList.toggle('visually-hidden');\n      if (data.length === 15) {\n        localStorage.setItem(\"apiKey\", apiKey);\n        backDropEl.classList.toggle('visually-hidden')\n      } else {\n      loaderFormEl.classList.add('visually-hidden');\n        window.alert('Upppsss, your key is wrong :(')\n      }\n    })\n    .catch(error => window.alert('Please enter valid key'))\n}\n\n\nfunction fetchBreeds() {\n  fetch('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.json())\n    .then(data => {\n      const breedListId = data.map(({ id, name }) => ({ id, name }));\n      breedListId.forEach(id => {\n        const optionEl = document.createElement('option');\n        optionEl.value = id.id;\n        optionEl.textContent = id.name;\n        selectEl.appendChild(optionEl);\n      });\n    })\n    .catch(error => (errorEl.style.display = 'block'));\n}\n\nselectEl.addEventListener('change', selectedBreed);\nfunction selectedBreed() {\n  let selectedCatId = selectEl.value;\n  ploadEl.classList.toggle('loader');\n  fetchCatByBreed(selectedCatId);\n}\n\nfunction fetchCatByBreed(breedId) {\n  divCatInfoEl.innerHTML = '';\n  fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  }).then(data => data.json())\n  .then(id => {\n    ploadEl.classList.toggle('loader');\n    let catInfo = id[0];\n    let breedInfo = catInfo.breeds[0]\n    let catDescription = `\n    <img src=\"${catInfo.url}\" alt=\"\" height=\"300\" class=\"cat-foto\">\n    <div class=\"descrition-wrap\">\n      <h2 class=\"cat-name\">${breedInfo.name}</h2>\n      <p class=\"cat-description\">${breedInfo.description}</p>\n      <p class=\"cat-temperament\"><span class=\"tempword-wrap\">Temperament</span>: ${breedInfo.temperament}</p>\n      </div>`\n      divCatInfoEl.insertAdjacentHTML(\"beforeend\", catDescription) \n  });\n}\n\nfetchBreeds();\n"],"names":["$6b5f202d1456c0af$var$apiKey","$6b5f202d1456c0af$var$selectEl","document","querySelector","$6b5f202d1456c0af$var$errorEl","$6b5f202d1456c0af$var$ploadEl","$6b5f202d1456c0af$var$formEl","getElementById","$6b5f202d1456c0af$var$formInput","$6b5f202d1456c0af$var$loaderFormEl","classList","add","$6b5f202d1456c0af$var$backDropEl","$6b5f202d1456c0af$var$divCatInfoEl","style","display","window","addEventListener","localStorage","getItem","toggle","event","preventDefault","value","fetch","headers","then","response","json","data","length","setItem","alert","catch","error","selectedCatId","breedId","innerHTML","id","catInfo","breedInfo","breeds","catDescription","url","name","description","temperament","insertAdjacentHTML","map","forEach","optionEl","createElement","textContent","appendChild"],"version":3,"file":"index.08c86df0.js.map"}