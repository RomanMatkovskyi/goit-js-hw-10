{"mappings":"YAAA,IAAIA,EACEC,EAAWC,SAASC,cAAc,iBAClCC,EAAUF,SAASC,cAAc,UACjCE,EAAUH,SAASC,cAAc,SAEjCG,EAASJ,SAASK,eAAe,OACjCC,EAAYN,SAASC,cAAc,cACnCM,EAAeP,SAASC,cAAc,gBAC5CM,EAAaC,UAAUC,IAAI,mBAC3B,IAAMC,EAAaV,SAASC,cAAc,aAEpCU,EAAeX,SAASC,cAAc,aAC5CC,EAAQU,MAAMC,QAAU,OACxBC,OAAOC,iBAAiB,QACxB,WACsC,OAAnCC,aAAaC,QAAQ,YACtBnB,EAASkB,aAAaC,QAAQ,UAC9BP,EAAWF,UAAUU,OAAO,mB,IAI9Bd,EAAOW,iBAAiB,UAExB,SAAmBI,GACjBA,EAAMC,iBACNtB,EAASQ,EAAUe,MACnBf,EAAUe,MAAQ,GACpBd,EAAaC,UAAUU,OAAO,mBAC5BI,MAAO,sDAAsD,CAC3DC,QAAS,CACP,YAAazB,KAEd0B,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAM,SAAAG,GACLpB,EAAaC,UAAUU,OAAO,mBACV,KAAhBS,EAAKC,QACPZ,aAAaa,QAAQ,SAAU/B,GAC/BY,EAAWF,UAAUU,OAAO,qBAE9BX,EAAaC,UAAUC,IAAI,mBACzBK,OAAOgB,MAAM,iC,IAGhBC,OAAM,SAAAC,G,OAASlB,OAAOgB,MAAM,yB,OAmBjC/B,EAASgB,iBAAiB,UAC1B,WACE,IAAIkB,EAAgBlC,EAASsB,MAC7BlB,EAAQK,UAAUU,OAAO,UAIFgB,EAHPD,EAIhBtB,EAAawB,UAAY,GACzBb,MAAM,wDAAgEc,OAARF,GAAW,CACvEX,QAAS,CACP,YAAazB,KAEd0B,MAAK,SAAAG,G,OAAQA,EAAKD,M,IACpBF,MAAK,SAAAa,GACJlC,EAAQK,UAAUU,OAAO,UACzB,IAAIoB,EAAUD,EAAG,GACbE,EAAYD,EAAQE,OAAO,GAC3BC,EAAiB,mBAGIL,OAFbE,EAAQI,IAAI,2GAGON,OADNG,EAAUI,KAAK,4CAEuCP,OADhDG,EAAUK,YAAY,2FACgDR,OAAtBG,EAAUM,YAAY,sBAEnGlC,EAAamC,mBAAmB,YAAaL,E,IAlBnD,IAAyBP,C,IArBvBZ,MAAM,uCACHE,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACgBA,EAAKoB,KAAI,SAAAC,G,MAAmB,CAAEX,GAAhBW,EAAFX,GAAsBM,KAAdK,EAAJL,K,IACxBM,SAAQ,SAAAZ,GAClB,IAAMa,EAAWlD,SAASmD,cAAc,UACxCD,EAAS7B,MAAQgB,EAAGA,GACpBa,EAASE,YAAcf,EAAGM,KAC1B5C,EAASsD,YAAYH,E,OAGxBnB,OAAM,SAAAC,G,OAAU9B,EAAQU,MAAMC,QAAU,O","sources":["src/cat-api.js"],"sourcesContent":["let apiKey;\nconst selectEl = document.querySelector('.breed-select');\nconst errorEl = document.querySelector('.error');\nconst ploadEl = document.querySelector('.load');\n\nconst formEl = document.getElementById('api');\nconst formInput = document.querySelector('.api-input');\nconst loaderFormEl = document.querySelector('.loader-form');\nloaderFormEl.classList.add('visually-hidden');\nconst backDropEl = document.querySelector('.backdrop');\n\nconst divCatInfoEl = document.querySelector('.cat-info');\nerrorEl.style.display = 'none';\nwindow.addEventListener('load', checkApiKey)\nfunction checkApiKey() {\nif(localStorage.getItem(\"apiKey\") !== null) {\n  apiKey = localStorage.getItem(\"apiKey\")\n  backDropEl.classList.toggle('visually-hidden')\n}\n}\n\nformEl.addEventListener('submit', getApiKey)\n\nfunction getApiKey(event) {\n  event.preventDefault()\n  apiKey = formInput.value;\n  formInput.value = '';\nloaderFormEl.classList.toggle('visually-hidden');\n  fetch(`https://api.thecatapi.com/v1/images/search?limit=15`, {\n    headers: {\n      'x-api-key': apiKey,\n    }})\n    .then(response => response.json())\n    .then (data => {\n      loaderFormEl.classList.toggle('visually-hidden');\n      if (data.length === 15) {\n        localStorage.setItem(\"apiKey\", apiKey);\n        backDropEl.classList.toggle('visually-hidden')\n      } else {\n      loaderFormEl.classList.add('visually-hidden');\n        window.alert('Upppsss, your key is wrong :(')\n      }\n    })\n    .catch(error => window.alert('Please enter valid key'))\n}\n\n\nfunction fetchBreeds() {\n  fetch('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.json())\n    .then(data => {\n      const breedListId = data.map(({ id, name }) => ({ id, name }));\n      breedListId.forEach(id => {\n        const optionEl = document.createElement('option');\n        optionEl.value = id.id;\n        optionEl.textContent = id.name;\n        selectEl.appendChild(optionEl);\n      });\n    })\n    .catch(error => (errorEl.style.display = 'block'));\n}\n\nselectEl.addEventListener('change', selectedBreed);\nfunction selectedBreed() {\n  let selectedCatId = selectEl.value;\n  ploadEl.classList.toggle('loader');\n  fetchCatByBreed(selectedCatId);\n}\n\nfunction fetchCatByBreed(breedId) {\n  divCatInfoEl.innerHTML = '';\n  fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  }).then(data => data.json())\n  .then(id => {\n    ploadEl.classList.toggle('loader');\n    let catInfo = id[0];\n    let breedInfo = catInfo.breeds[0]\n    let catDescription = `\n    <img src=\"${catInfo.url}\" alt=\"\" height=\"300\" class=\"cat-foto\">\n    <div class=\"descrition-wrap\">\n      <h2 class=\"cat-name\">${breedInfo.name}</h2>\n      <p class=\"cat-description\">${breedInfo.description}</p>\n      <p class=\"cat-temperament\"><span class=\"tempword-wrap\">Temperament</span>: ${breedInfo.temperament}</p>\n      </div>`\n      divCatInfoEl.insertAdjacentHTML(\"beforeend\", catDescription) \n  });\n}\n\nfetchBreeds();\n"],"names":["$ae0c329fb0fb36dc$var$apiKey","$ae0c329fb0fb36dc$var$selectEl","document","querySelector","$ae0c329fb0fb36dc$var$errorEl","$ae0c329fb0fb36dc$var$ploadEl","$ae0c329fb0fb36dc$var$formEl","getElementById","$ae0c329fb0fb36dc$var$formInput","$ae0c329fb0fb36dc$var$loaderFormEl","classList","add","$ae0c329fb0fb36dc$var$backDropEl","$ae0c329fb0fb36dc$var$divCatInfoEl","style","display","window","addEventListener","localStorage","getItem","toggle","event","preventDefault","value","fetch","headers","then","response","json","data","length","setItem","alert","catch","error","selectedCatId","breedId","innerHTML","concat","id","catInfo","breedInfo","breeds","catDescription","url","name","description","temperament","insertAdjacentHTML","map","param","forEach","optionEl","createElement","textContent","appendChild"],"version":3,"file":"index.0d0f9da5.js.map"}